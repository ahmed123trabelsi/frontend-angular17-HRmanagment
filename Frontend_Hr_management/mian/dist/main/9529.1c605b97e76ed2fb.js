"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[9529],{9529:(Mt,B,r)=>{r.r(B),r.d(B,{LEAVE_ROUTE:()=>qt});var b=r(4412),k=r(4619),e=r(4438),D=r(1626);let G=(()=>{class t extends k.U{constructor(a){super(),this.httpClient=a,this.API_URL="assets/data/leave-balance.json",this.isTblLoading=!0,this.dataChange=new b.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllLeavess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:a=>{this.isTblLoading=!1,this.dataChange.next(a)},error:a=>{this.isTblLoading=!1,console.log(a.name+" "+a.message)}})}static#e=this.\u0275fac=function(i){return new(i||t)(e.KVO(D.Qq))};static#t=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var v=r(6695),p=r(2042),F=r(5024),L=r(3726),S=r(7786),w=r(6354),h=r(9115),x=r(9183),g=r(6600),C=r(177),o=r(9159),$=r(8173),d=r(4006),N=r(5416);const X=["filter"],O=()=>["Leaves"],P=()=>[5,10,25,100];function H(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Id "),e.k0s())}function z(t,n){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=n.$implicit;e.R7$(),e.JRh(a.id)}}function J(t,n){1&t&&(e.j41(0,"mat-header-cell",42),e.EFF(1," Image "),e.k0s()),2&t&&e.Y8G("ngClass","tbl-col-width-per-7")}function Q(t,n){if(1&t&&(e.j41(0,"mat-cell",43)(1,"span",44),e.EFF(2,"Image:"),e.k0s(),e.nrm(3,"img",45),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.Y8G("src",a.img,e.B4B)}}function Z(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Name "),e.k0s())}function K(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Name:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI(" ",a.name," ")}}function W(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Previous Year "),e.k0s())}function ee(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Previous Year:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI("",a.prev," ")}}function te(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Current Year "),e.k0s())}function ae(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Current Year:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI(" ",a.current," ")}}function le(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Total "),e.k0s())}function ne(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Total:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.JRh(a.total)}}function ie(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Used "),e.k0s())}function se(t,n){if(1&t&&(e.j41(0,"mat-cell",46)(1,"span",44),e.EFF(2,"Used:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI("",a.used," ")}}function oe(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Accepted "),e.k0s())}function re(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Accepted:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI(" ",a.accepted," ")}}function ce(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Rejected "),e.k0s())}function me(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Rejected:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI("",a.rejected," ")}}function de(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Expired "),e.k0s())}function pe(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Expired:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI("",a.expired," ")}}function ue(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Carry Over "),e.k0s())}function he(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Carry Over:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI("",a.carryOver," ")}}function fe(t,n){1&t&&e.nrm(0,"mat-header-row")}function _e(t,n){1&t&&e.nrm(0,"mat-row",47),2&t&&e.xc7("cursor","pointer")}function ve(t,n){1&t&&(e.j41(0,"div",38),e.nrm(1,"mat-progress-spinner",48),e.k0s()),2&t&&(e.R7$(),e.Y8G("diameter",40))}function ge(t,n){if(1&t&&(e.j41(0,"div",49),e.EFF(1," No results "),e.k0s()),2&t){const a=e.XpG();e.xc7("display",0===a.dataSource.renderedData.length?"":"none")}}let Fe=(()=>{class t extends k.U{constructor(a,i,l,s){super(),this.httpClient=a,this.dialog=i,this.leavesService=l,this.snackBar=s,this.filterToggle=!1,this.displayedColumns=["img","name","prev","current","total","used","accepted","rejected","expired","carryOver"],this.selection=new F.CB(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}toggleStar(a){console.log(a)}loadData(){this.exampleDatabase=new G(this.httpClient),this.dataSource=new Ce(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,L.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(D.Qq),e.rXU(d.bZ),e.rXU(G),e.rXU(N.UG))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-leave-balance"]],viewQuery:function(i,l){if(1&i&&(e.GBs(v.iy,7),e.GBs(p.B4,7),e.GBs(X,7),e.GBs(h.Cp,5)),2&i){let s;e.mGM(s=e.lsd())&&(l.paginator=s.first),e.mGM(s=e.lsd())&&(l.sort=s.first),e.mGM(s=e.lsd())&&(l.filter=s.first),e.mGM(s=e.lsd())&&(l.contextMenu=s.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:61,vars:14,consts:[["filter",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","img"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","table-img tbl-col-width-per-7",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","prev"],["matColumnDef","current"],["matColumnDef","total"],["matColumnDef","used"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","accepted"],["matColumnDef","rejected"],["matColumnDef","expired"],["matColumnDef","carryOver"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-sort-header",""],["mat-header-cell","",3,"ngClass"],["mat-cell","",1,"table-img","tbl-col-width-per-7"],[1,"mobile-label"],[3,"src"],[1,"column-nowrap"],["matRipple",""],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(i,l){1&i&&(e.j41(0,"section",2)(1,"div",3)(2,"div",4),e.nrm(3,"app-breadcrumb",5),e.k0s(),e.j41(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ul",11)(10,"li",12)(11,"h2"),e.EFF(12,"Leave Balance"),e.k0s()(),e.j41(13,"li",13)(14,"label",14)(15,"i",15),e.EFF(16,"search"),e.k0s()(),e.nrm(17,"input",16,0),e.k0s()()()(),e.j41(19,"div",17)(20,"div",18)(21,"table",19),e.qex(22,20),e.DNE(23,H,2,0,"mat-header-cell",21)(24,z,2,1,"mat-cell",22),e.bVm(),e.qex(25,23),e.DNE(26,J,2,1,"mat-header-cell",24)(27,Q,4,1,"mat-cell",25),e.bVm(),e.qex(28,26),e.DNE(29,Z,2,0,"mat-header-cell",21)(30,K,4,1,"mat-cell",22),e.bVm(),e.qex(31,27),e.DNE(32,W,2,0,"mat-header-cell",21)(33,ee,4,1,"mat-cell",22),e.bVm(),e.qex(34,28),e.DNE(35,te,2,0,"mat-header-cell",21)(36,ae,4,1,"mat-cell",22),e.bVm(),e.qex(37,29),e.DNE(38,le,2,0,"mat-header-cell",21)(39,ne,4,1,"mat-cell",22),e.bVm(),e.qex(40,30),e.DNE(41,ie,2,0,"mat-header-cell",21)(42,se,4,1,"mat-cell",31),e.bVm(),e.qex(43,32),e.DNE(44,oe,2,0,"mat-header-cell",21)(45,re,4,1,"mat-cell",22),e.bVm(),e.qex(46,33),e.DNE(47,ce,2,0,"mat-header-cell",21)(48,me,4,1,"mat-cell",22),e.bVm(),e.qex(49,34),e.DNE(50,de,2,0,"mat-header-cell",21)(51,pe,4,1,"mat-cell",22),e.bVm(),e.qex(52,35),e.DNE(53,ue,2,0,"mat-header-cell",21)(54,he,4,1,"mat-cell",22),e.bVm(),e.DNE(55,fe,1,0,"mat-header-row",36)(56,_e,1,2,"mat-row",37),e.k0s(),e.DNE(57,ve,2,1,"div",38)(58,ge,2,2,"div",39),e.nrm(59,"mat-paginator",40,1),e.k0s()()()()()()()),2&i&&(e.R7$(3),e.Y8G("title","Leave Balance")("items",e.lJ4(12,O))("active_item","Leave Balance"),e.R7$(18),e.Y8G("dataSource",l.dataSource),e.R7$(34),e.Y8G("matHeaderRowDef",l.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",l.displayedColumns),e.R7$(),e.vxM(57,null!=l.exampleDatabase&&l.exampleDatabase.isTblLoading?57:-1),e.R7$(),e.vxM(58,null!=l.exampleDatabase&&l.exampleDatabase.isTblLoading?-1:58),e.R7$(),e.Y8G("length",l.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.lJ4(13,P)))},dependencies:[$.D,o.tP,o.Zl,o.tL,o.ji,o.cC,o.YV,o.iL,o.KS,o.$R,o.YZ,o.NB,p.NQ,p.B4,p.aE,C.YU,g.pZ,g.r6,x.D6,x.LG,v.Ou,v.iy]})}return t})();class Ce extends F.qS{get filter(){return this.filterChange.value}set filter(n){this.filterChange.next(n)}constructor(n,a,i){super(),this.exampleDatabase=n,this.paginator=a,this._sort=i,this.filterChange=new b.t(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const n=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllLeavess(),(0,S.h)(...n).pipe((0,w.T)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(l=>-1!==l.name.toLowerCase().indexOf(this.filter.toLowerCase()));const a=this.sortData(this.filteredData.slice());return this.renderedData=a.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(n){return this._sort.active&&""!==this._sort.direction?n.sort((a,i)=>{let l="",s="";switch(this._sort.active){case"id":[l,s]=[a.id,i.id];break;case"name":[l,s]=[a.name,i.name];break;case"total":[l,s]=[a.total,i.total];break;case"used":[l,s]=[a.used,i.used];break;case"accepted":[l,s]=[a.accepted,i.accepted]}return((isNaN(+l)?l:+l)<(isNaN(+s)?s:+s)?-1:1)*("asc"===this._sort.direction?1:-1)}):n}}let j=(()=>{class t extends k.U{constructor(a){super(),this.httpClient=a,this.API_URL="http://localhost:3000/Conge",this.isTblLoading=!0,this.dataChange=new b.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}addLeaves(a){this.dialogData=a}refuserDemandeConge(a){return this.httpClient.put(this.API_URL+"/"+a+"/refus",null)}accepterDemandeConge(a){return this.httpClient.put(this.API_URL+"/"+a+"/accept",null)}updateLeaves(a){this.dialogData=a}deleteLeaves(a){console.log(a)}getAllUserswithconge(){return this.httpClient.get(this.API_URL+"/leaves")}static#e=this.\u0275fac=function(i){return new(i||t)(e.KVO(D.Qq))};static#t=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var be=r(5558),m=r(9417);class xe{}var V=r(5596),q=r(2798),y=r(5084),M=r(9631),R=r(2102),E=r(9213),f=r(8834);function Re(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Name is required "),e.k0s())}function Te(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid type reason "),e.k0s())}function je(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Please select date "),e.k0s())}function ye(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Please select date "),e.k0s())}function Le(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Employee Name is required "),e.k0s())}function Se(t,n){if(1&t){const a=e.RV6();e.j41(0,"div",3)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),e.EFF(5),e.k0s()()(),e.j41(6,"button",9),e.bIt("click",function(){e.eBV(a);const l=e.XpG();return e.Njj(l.dialogRef.close())}),e.j41(7,"mat-icon"),e.EFF(8,"close"),e.k0s()()(),e.j41(9,"div",10)(10,"form",11),e.bIt("ngSubmit",function(){e.eBV(a);const l=e.XpG();return e.Njj(l.submit)}),e.j41(11,"div",12)(12,"div",13)(13,"mat-form-field",14)(14,"mat-label"),e.EFF(15,"Name"),e.k0s(),e.nrm(16,"input",15),e.j41(17,"i",16),e.EFF(18,"face"),e.k0s(),e.DNE(19,Re,2,0,"mat-error"),e.k0s()(),e.j41(20,"div",13)(21,"mat-form-field",14)(22,"mat-label"),e.EFF(23,"Leave Type"),e.k0s(),e.nrm(24,"input",17),e.j41(25,"i",16),e.EFF(26,"spoke"),e.k0s(),e.DNE(27,Te,2,0,"mat-error"),e.k0s()()(),e.j41(28,"div",12)(29,"div",13)(30,"mat-form-field",14)(31,"mat-label"),e.EFF(32,"Leave From"),e.k0s(),e.nrm(33,"input",18)(34,"mat-datepicker-toggle",19)(35,"mat-datepicker",null,0),e.DNE(37,je,2,0,"mat-error"),e.k0s()(),e.j41(38,"div",13)(39,"mat-form-field",14)(40,"mat-label"),e.EFF(41,"Leave To"),e.k0s(),e.nrm(42,"input",20)(43,"mat-datepicker-toggle",19)(44,"mat-datepicker",null,1),e.DNE(46,ye,2,0,"mat-error"),e.k0s()()(),e.j41(47,"div",12)(48,"div",13)(49,"mat-form-field",14)(50,"mat-label"),e.EFF(51,"No Of Days"),e.k0s(),e.nrm(52,"input",21),e.k0s()(),e.j41(53,"div",13)(54,"mat-form-field",22)(55,"mat-label"),e.EFF(56,"Status"),e.k0s(),e.j41(57,"mat-select",23)(58,"mat-option",24),e.EFF(59," Approved "),e.k0s(),e.j41(60,"mat-option",24),e.EFF(61," Rejected "),e.k0s()(),e.DNE(62,Le,2,0,"mat-error"),e.k0s()()(),e.j41(63,"div",12)(64,"div",25)(65,"mat-form-field",14)(66,"mat-label"),e.EFF(67,"Reason"),e.k0s(),e.nrm(68,"textarea",26),e.k0s()()(),e.j41(69,"div",12)(70,"div",25)(71,"mat-form-field",14)(72,"mat-label"),e.EFF(73,"Note"),e.k0s(),e.nrm(74,"textarea",27),e.k0s()()(),e.j41(75,"div",12)(76,"div",25)(77,"div",28)(78,"button",29),e.bIt("click",function(){e.eBV(a);const l=e.XpG();return e.Njj(l.confirmAdd())}),e.EFF(79,"Save"),e.k0s(),e.j41(80,"button",30),e.bIt("click",function(){e.eBV(a);const l=e.XpG();return e.Njj(l.onNoClick())}),e.EFF(81,"Cancel"),e.k0s()()()()()()()}if(2&t){let a,i,l,s,c;const _=e.sdS(36),T=e.sdS(45),u=e.XpG();e.R7$(5),e.SpI(" ",u.dialogTitle," "),e.R7$(5),e.Y8G("formGroup",u.leavesForm),e.R7$(9),e.vxM(19,null!=(a=u.leavesForm.get("name"))&&a.hasError("required")?19:-1),e.R7$(8),e.vxM(27,null!=(i=u.leavesForm.get("type"))&&i.hasError("required")||null!=(i=u.leavesForm.get("type"))&&i.touched?27:-1),e.R7$(6),e.Y8G("matDatepicker",_),e.R7$(),e.Y8G("for",_),e.R7$(3),e.vxM(37,null!=(l=u.leavesForm.get("from"))&&l.hasError("required")?37:-1),e.R7$(5),e.Y8G("matDatepicker",T),e.R7$(),e.Y8G("for",T),e.R7$(3),e.vxM(46,null!=(s=u.leavesForm.get("leaveTo"))&&s.hasError("required")?46:-1),e.R7$(12),e.Y8G("value","Approved"),e.R7$(2),e.Y8G("value","Rejected"),e.R7$(2),e.vxM(62,null!=(c=u.leavesForm.get("status"))&&c.hasError("required")?62:-1),e.R7$(16),e.Y8G("disabled",!u.leavesForm.valid)("mat-dialog-close",1)}}function we(t,n){if(1&t){const a=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",31),e.nrm(5,"div",32),e.j41(6,"div",33)(7,"div",34),e.EFF(8,"Manager"),e.k0s()()()()(),e.j41(9,"button",9),e.bIt("click",function(){e.eBV(a);const l=e.XpG();return e.Njj(l.dialogRef.close())}),e.j41(10,"mat-icon"),e.EFF(11,"close"),e.k0s()()(),e.j41(12,"div",10)(13,"mat-card-content")(14,"div",35)(15,"i",36),e.EFF(16,"receipt"),e.k0s(),e.j41(17,"div",37),e.EFF(18),e.k0s()(),e.j41(19,"div",35)(20,"i",36),e.EFF(21,"today"),e.k0s(),e.j41(22,"div",37),e.EFF(23),e.nI1(24,"date"),e.k0s()(),e.j41(25,"div",35)(26,"i",36),e.EFF(27,"fact_check"),e.k0s(),e.j41(28,"div",37),e.EFF(29),e.nI1(30,"date"),e.k0s()(),e.j41(31,"div",35)(32,"i",36),e.EFF(33,"tag"),e.k0s(),e.j41(34,"div",37),e.EFF(35),e.k0s()(),e.j41(36,"div",35)(37,"i",36),e.EFF(38,"info"),e.k0s(),e.j41(39,"div",37),e.EFF(40),e.k0s()(),e.j41(41,"div",35)(42,"i",36),e.EFF(43,"description"),e.k0s(),e.j41(44,"div",37),e.EFF(45),e.k0s()()()()()}if(2&t){const a=e.XpG();e.R7$(18),e.SpI(" ",a.leaves.leaveType," "),e.R7$(5),e.SpI(" ",e.i5U(24,6,a.leaves.startDate,"MMMM d, yyyy")," "),e.R7$(6),e.SpI(" ",e.i5U(30,9,a.leaves.endDate,"MMMM d, yyyy")," "),e.R7$(6),e.SpI(" ",a.leaves.startTime," "),e.R7$(5),e.SpI(" ",a.leaves.status," "),e.R7$(5),e.SpI(" ",a.leaves.reason," ")}}let I=(()=>{class t{constructor(a,i,l,s){if(this.dialogRef=a,this.data=i,this.leavesService=l,this.fb=s,this.isDetails=!1,this.formControl=new m.hs("",[m.k0.required]),this.action=i.action,"edit"===this.action)this.dialogTitle="Edit Leave Request",this.leaves=i.leaves,this.leavesForm=this.createContactForm(),this.leavesForm.patchValue(this.leaves);else{this.dialogTitle="New Leave Request";const c={};this.leaves=new xe,Object.assign(this.leaves,c),this.leavesForm=this.createContactForm()}}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("type")?"Not a valid type":""}createContactForm(){return this.fb.group({id:[this.leaves._id],type:[this.leaves.leaveType,[m.k0.required,m.k0.minLength(5)]],from:[(0,C.Yq)(this.leaves.startDate,"yyyy-MM-dd","en"),[m.k0.required]],leaveTo:[(0,C.Yq)(this.leaves.endDate,"yyyy-MM-dd","en"),[m.k0.required]],reason:[this.leaves.reason],noOfDays:[this.leaves.startTime],status:[this.leaves.status],note:[this.leaves.endTime]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.leavesService.addLeaves(this.leavesForm?.getRawValue())}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(d.CP),e.rXU(d.Vh),e.rXU(j),e.rXU(m.ze))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-form"]],standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["picker2",""],["picker",""],[1,"addContainer"],[1,"contact-form"],[1,"contact-details"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","name","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","type","required",""],["matInput","","formControlName","from",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","leaveTo",3,"matDatepicker"],["matInput","","formControlName","noOfDays","required",""],["appearance","outline",1,"example-full-width"],["formControlName","status","required",""],[3,"value"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","reason"],["matInput","","formControlName","note"],["align","end",1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled","mat-dialog-close"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],[1,"modal-about","contact-header"],[1,"contact-details-img"],[1,"contact-details-heading"],[1,"badge","col-green","ms-2"],[1,"contact-details-field"],[1,"material-icons-outlined","color-icon"],[1,"contact-detail-info"]],template:function(i,l){1&i&&(e.j41(0,"div",2),e.DNE(1,Se,82,15,"div",3)(2,we,46,12,"div",4),e.k0s()),2&i&&(e.R7$(),e.vxM(1,l.isDetails?-1:1),e.R7$(),e.vxM(2,l.isDetails?2:-1))},dependencies:[f.Hl,f.$z,f.iY,E.m_,E.An,d.Yi,m.YN,m.qT,m.me,m.BC,m.cb,m.YS,m.X1,m.j4,m.JD,R.RG,R.rl,R.nJ,R.TL,R.yw,M.fS,M.fg,y.X6,y.Vh,y.bZ,y.bU,q.Ve,q.VO,g.wT,g.Sy,d.tx,V.Hu,V.m2,C.vh]})}return t})(),$e=(()=>{class t{constructor(a,i,l){this.dialogRef=a,this.data=i,this.leavesService=l}onNoClick(){this.dialogRef.close()}confirmDelete(){this.leavesService.deleteLeaves(this.data.id)}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(d.CP),e.rXU(d.Vh),e.rXU(j))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-delete",5,"k"]],standalone:!0,features:[e.aNF],decls:26,vars:6,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(i,l){1&i&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2,"Are you sure?"),e.k0s(),e.j41(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),e.EFF(8," Name: "),e.k0s(),e.EFF(9),e.k0s()(),e.j41(10,"li")(11,"p")(12,"span",4),e.EFF(13," Leave Type: "),e.k0s(),e.EFF(14),e.k0s()(),e.j41(15,"li")(16,"p")(17,"span",4),e.EFF(18,"From: "),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s()()()(),e.j41(21,"div",5)(22,"button",6),e.bIt("click",function(){return l.confirmDelete()}),e.EFF(23," Delete "),e.k0s(),e.j41(24,"button",7),e.bIt("click",function(){return l.onNoClick()}),e.EFF(25,"Cancel"),e.k0s()()()),2&i&&(e.R7$(9),e.JRh(l.data.name),e.R7$(5),e.JRh(l.data.type),e.R7$(5),e.SpI("",e.bMT(20,4,l.data.from)," "),e.R7$(3),e.Y8G("mat-dialog-close",1))},dependencies:[d.BI,d.Yi,d.E7,f.Hl,f.$z,d.tx,C.vh]})}return t})();var U=r(2765),Y=r(4823);const Ne=["filter"],Ie=()=>["Leaves"],Be=()=>[5,10,25,100];function Ge(t,n){if(1&t){const a=e.RV6();e.j41(0,"mat-header-cell",57)(1,"mat-checkbox",58),e.bIt("change",function(l){e.eBV(a);const s=e.XpG();return e.Njj(l?s.masterToggle():null)}),e.k0s()()}if(2&t){const a=e.XpG();e.Y8G("ngClass","tbl-col-width-per-6"),e.R7$(),e.Y8G("checked",a.selection.hasValue()&&a.isAllSelected())("indeterminate",a.selection.hasValue()&&!a.isAllSelected())("ngClass","tbl-checkbox")}}function Ve(t,n){if(1&t){const a=e.RV6();e.j41(0,"mat-cell",57)(1,"mat-checkbox",59),e.bIt("click",function(l){return e.eBV(a),e.Njj(l.stopPropagation())})("change",function(l){const s=e.eBV(a).$implicit,c=e.XpG();return e.Njj(l?c.selection.toggle(s):null)}),e.k0s()()}if(2&t){const a=n.$implicit,i=e.XpG();e.Y8G("ngClass","tbl-col-width-per-6"),e.R7$(),e.Y8G("checked",i.selection.isSelected(a))("ngClass","tbl-checkbox")}}function qe(t,n){1&t&&(e.j41(0,"mat-header-cell",60),e.EFF(1," Image "),e.k0s()),2&t&&e.Y8G("ngClass","tbl-col-width-per-6")}function Me(t,n){if(1&t&&(e.j41(0,"mat-cell",61)(1,"span",62),e.EFF(2,"Image:"),e.k0s(),e.nrm(3,"img",63),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.Y8G("src",a.img,e.B4B)}}function Ue(t,n){1&t&&(e.j41(0,"mat-header-cell",64),e.EFF(1,"Name"),e.k0s())}function Ye(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",62),e.EFF(2,"Name:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI(" ",a.userName," ")}}function Ae(t,n){1&t&&(e.j41(0,"mat-header-cell",64),e.EFF(1,"Leave From "),e.k0s())}function Xe(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",62),e.EFF(2,"Leave From:"),e.k0s(),e.EFF(3),e.nI1(4,"date"),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI(" ",e.i5U(4,1,a.startDate,"MM/dd/yyyy")," ")}}function Oe(t,n){1&t&&(e.j41(0,"mat-header-cell",64),e.EFF(1,"Time Of Day "),e.k0s())}function Pe(t,n){if(1&t&&(e.j41(0,"mat-cell",65)(1,"span",62),e.EFF(2,"Time Of Days:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI("",a.startTime," ")}}function He(t,n){1&t&&(e.j41(0,"mat-header-cell",64),e.EFF(1,"Leave Type "),e.k0s())}function ze(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",62),e.EFF(2,"Leave Type:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI(" ",a.leaveType," ")}}function Je(t,n){1&t&&(e.j41(0,"mat-header-cell",64),e.EFF(1,"Leave To "),e.k0s())}function Qe(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",62),e.EFF(2,"Leave To:"),e.k0s(),e.EFF(3),e.nI1(4,"date"),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.JRh(e.i5U(4,1,a.endDate,"MM/dd/yyyy"))}}function Ze(t,n){1&t&&(e.j41(0,"mat-header-cell",64),e.EFF(1,"Time Of Day "),e.k0s())}function Ke(t,n){if(1&t&&(e.j41(0,"mat-cell",65)(1,"span",62),e.EFF(2,"Time Of Days:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI("",a.endTime," ")}}function We(t,n){1&t&&(e.j41(0,"mat-header-cell",64),e.EFF(1," Status "),e.k0s())}function et(t,n){if(1&t&&(e.j41(0,"div")(1,"span",67),e.EFF(2),e.k0s()()),2&t){const a=e.XpG().$implicit;e.R7$(2),e.SpI(" ",a.status,"")}}function tt(t,n){if(1&t&&(e.j41(0,"div")(1,"span",68),e.EFF(2),e.k0s()()),2&t){const a=e.XpG().$implicit;e.R7$(2),e.SpI(" ",a.status,"")}}function at(t,n){if(1&t&&(e.j41(0,"div")(1,"span",69),e.EFF(2),e.k0s()()),2&t){const a=e.XpG().$implicit;e.R7$(2),e.SpI(" ",a.status,"")}}function lt(t,n){if(1&t&&(e.j41(0,"mat-cell",66)(1,"span",62),e.EFF(2,"Status:"),e.k0s(),e.DNE(3,et,3,1,"div")(4,tt,3,1,"div")(5,at,3,1,"div"),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.vxM(3,"Approved"===a.status?3:-1),e.R7$(),e.vxM(4,"Declined"===a.status?4:-1),e.R7$(),e.vxM(5,"Pending"===a.status?5:-1)}}function nt(t,n){1&t&&(e.j41(0,"mat-header-cell",64),e.EFF(1,"Reason "),e.k0s())}function it(t,n){if(1&t&&(e.j41(0,"mat-cell",65)(1,"span",70)(2,"span",62),e.EFF(3,"Reason:"),e.k0s(),e.EFF(4),e.k0s()()),2&t){const a=n.$implicit;e.R7$(4),e.JRh(a.reason)}}function st(t,n){1&t&&(e.j41(0,"mat-header-cell",71),e.EFF(1," Actions "),e.k0s())}function ot(t,n){if(1&t){const a=e.RV6();e.j41(0,"mat-cell",71)(1,"button",72),e.bIt("click",function(l){return e.eBV(a),e.Njj(l.stopPropagation())}),e.j41(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.j41(4,"mat-menu",null,2)(6,"button",73),e.bIt("click",function(){const l=e.eBV(a).$implicit,s=e.XpG();return e.Njj(s.accepterDemande(l._id))}),e.j41(7,"i",74),e.EFF(8,"create"),e.k0s(),e.j41(9,"span"),e.EFF(10,"Approved"),e.k0s()(),e.j41(11,"button",73),e.bIt("click",function(){const l=e.eBV(a).$implicit,s=e.XpG();return e.Njj(s.refuserDemandeConge(l._id))}),e.j41(12,"i",74),e.EFF(13,"delete_forever"),e.k0s(),e.j41(14,"span"),e.EFF(15,"Declined"),e.k0s()()()()}if(2&t){const a=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",a)}}function rt(t,n){1&t&&e.nrm(0,"mat-header-row")}function ct(t,n){if(1&t){const a=e.RV6();e.j41(0,"mat-row",75),e.bIt("click",function(){const l=e.eBV(a).$implicit,s=e.XpG();return e.Njj(s.detailsCall(l))}),e.k0s()}2&t&&e.xc7("cursor","pointer")}function mt(t,n){if(1&t&&(e.j41(0,"div",76),e.EFF(1," No results "),e.k0s()),2&t){const a=e.XpG();e.xc7("display",0===a.dataSource.renderedData.length?"":"none")}}let dt=(()=>{class t extends k.U{constructor(a,i,l,s){super(),this.httpClient=a,this.dialog=i,this.leavesService=l,this.snackBar=s,this.filterToggle=!1,this.displayedColumns=["select","img","name","type","from","noOfDays","leaveTo","status","reason","actions"],this.selection=new F.CB(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){const a=this.dialog.open(I,{data:{leaves:this.leaves,action:"add"}});this.subs.sink=a.afterClosed().subscribe(i=>{1===i&&(this.exampleDatabase?.dataChange.value.unshift(this.leavesService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}detailsCall(a){this.dialog.open(I,{data:{leaves:a,action:"details"},height:"85%",width:"45%"})}toggleStar(a){console.log(a)}editCall(a){this.id=a._id;const i=this.dialog.open(I,{data:{leaves:a,action:"edit"}});this.subs.sink=i.afterClosed().subscribe(l=>{if(1===l){const s=this.exampleDatabase?.dataChange.value.findIndex(c=>c._id===this.id);void 0!==s&&void 0!==this.exampleDatabase&&(this.exampleDatabase.dataChange.value[s]=this.leavesService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}accepterDemande(a){this.leavesService.accepterDemandeConge(a).subscribe(i=>{console.log("Demande de cong\xe9 accept\xe9e :",i)})}refuserDemandeConge(a){this.leavesService.refuserDemandeConge(a).subscribe(i=>{console.log("Demande de cong\xe9 accept\xe9e :",i)})}deleteItem(a){this.id=a._id;const i=this.dialog.open($e,{height:"270px",width:"330px",data:a});this.subs.sink=i.afterClosed().subscribe(l=>{if(1===l){const s=this.exampleDatabase?.dataChange.value.findIndex(c=>c._id===this.id);void 0!==s&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(s,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){const a=this.selection.selected.length,i=this.dataSource?.renderedData.length;return a===i}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource?.renderedData.forEach(a=>this.selection.select(a))}removeSelectedRows(){const a=this.selection.selected.length;this.selection.selected.forEach(i=>{const l=this.dataSource?.renderedData.findIndex(s=>s===i);this.exampleDatabase?.dataChange.value.splice(l,1),this.refreshTable(),this.selection=new F.CB(!0,[])}),this.showNotification("snackbar-danger",a+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new j(this.httpClient),this.dataSource=new pt(this.exampleDatabase,this.paginator,this.sort,this.leavesService),this.subs.sink=(0,L.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}showNotification(a,i,l,s){this.snackBar.open(i,"",{duration:2e3,verticalPosition:l,horizontalPosition:s,panelClass:a})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(D.Qq),e.rXU(d.bZ),e.rXU(j),e.rXU(N.UG))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-leave-requests"]],viewQuery:function(i,l){if(1&i&&(e.GBs(v.iy,7),e.GBs(p.B4,7),e.GBs(Ne,7),e.GBs(h.Cp,5)),2&i){let s;e.mGM(s=e.lsd())&&(l.paginator=s.first),e.mGM(s=e.lsd())&&(l.sort=s.first),e.mGM(s=e.lsd())&&(l.filter=s.first),e.mGM(s=e.lsd())&&(l.contextMenu=s.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:80,vars:14,consts:[["filter",""],["paginator",""],["menu","matMenu"],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt",""],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","img"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","table-img tbl-col-width-per-6",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","from"],["matColumnDef","startTime"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","leaveTo"],["matColumnDef","noOfDays"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","reason"],["matColumnDef","actions"],["class","psl-3 tbl-col-width-per-10",4,"matHeaderCellDef"],["class","psl-3 tbl-col-width-per-10",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"ngClass"],[3,"change","checked","indeterminate","ngClass"],[3,"click","change","checked","ngClass"],["mat-header-cell","",3,"ngClass"],["mat-cell","",1,"table-img","tbl-col-width-per-6"],[1,"mobile-label"],[3,"src"],["mat-sort-header",""],[1,"column-nowrap"],["mat-cell",""],[1,"badge","badge-pill","badge-primary","col-green"],[1,"badge","badge-pill","badge-primary","col-red"],[1,"badge","badge-pill","badge-primary","col-blue"],[1,"truncate-text"],[1,"psl-3","tbl-col-width-per-10"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined","align-middle","msr-2"],["matRipple","",3,"click"],[1,"no-results"]],template:function(i,l){if(1&i){const s=e.RV6();e.j41(0,"section",3)(1,"div",4)(2,"div",5),e.nrm(3,"app-breadcrumb",6),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"div",11)(9,"ul",12)(10,"li",13)(11,"h2"),e.EFF(12,"Leave Requests"),e.k0s()(),e.j41(13,"li",14)(14,"label",15)(15,"i",16),e.EFF(16,"search"),e.k0s()(),e.nrm(17,"input",17,0),e.k0s()()(),e.j41(19,"div",18)(20,"ul",19)(21,"li",20)(22,"div",21)(23,"button",22),e.bIt("click",function(){return e.eBV(s),e.Njj(l.addNew())}),e.j41(24,"mat-icon",23),e.EFF(25,"add"),e.k0s()()()(),e.j41(26,"li",20)(27,"div",24)(28,"button",22),e.bIt("click",function(){return e.eBV(s),e.Njj(l.refresh())}),e.j41(29,"mat-icon",23),e.EFF(30,"refresh"),e.k0s()()()(),e.j41(31,"li",20)(32,"div",25)(33,"button",26),e.bIt("click",function(){return e.eBV(s),e.Njj(l.removeSelectedRows())}),e.j41(34,"mat-icon",23),e.EFF(35,"delete "),e.k0s()()()(),e.j41(36,"li")(37,"div",27),e.nrm(38,"img",28),e.k0s()()()()(),e.j41(39,"div",29)(40,"div",30)(41,"table",31),e.qex(42,32),e.DNE(43,Ge,2,4,"mat-header-cell",33)(44,Ve,2,3,"mat-cell",34),e.bVm(),e.qex(45,35),e.DNE(46,qe,2,1,"mat-header-cell",36)(47,Me,4,1,"mat-cell",37),e.bVm(),e.qex(48,38),e.DNE(49,Ue,2,0,"mat-header-cell",39)(50,Ye,4,1,"mat-cell",40),e.bVm(),e.qex(51,41),e.DNE(52,Ae,2,0,"mat-header-cell",39)(53,Xe,5,4,"mat-cell",40),e.bVm(),e.qex(54,42),e.DNE(55,Oe,2,0,"mat-header-cell",39)(56,Pe,4,1,"mat-cell",43),e.bVm(),e.qex(57,44),e.DNE(58,He,2,0,"mat-header-cell",39)(59,ze,4,1,"mat-cell",40),e.bVm(),e.qex(60,45),e.DNE(61,Je,2,0,"mat-header-cell",39)(62,Qe,5,4,"mat-cell",40),e.bVm(),e.qex(63,46),e.DNE(64,Ze,2,0,"mat-header-cell",39)(65,Ke,4,1,"mat-cell",43),e.bVm(),e.qex(66,47),e.DNE(67,We,2,0,"mat-header-cell",39)(68,lt,6,3,"mat-cell",48),e.bVm(),e.qex(69,49),e.DNE(70,nt,2,0,"mat-header-cell",39)(71,it,5,1,"mat-cell",43),e.bVm(),e.qex(72,50),e.DNE(73,st,2,0,"mat-header-cell",51)(74,ot,16,1,"mat-cell",52),e.bVm(),e.DNE(75,rt,1,0,"mat-header-row",53)(76,ct,1,2,"mat-row",54),e.k0s(),e.DNE(77,mt,2,2,"div",55),e.nrm(78,"mat-paginator",56,1),e.k0s()()()()()()()}2&i&&(e.R7$(3),e.Y8G("title","Leave Requests")("items",e.lJ4(12,Ie))("active_item","Leave Requests"),e.R7$(29),e.Y8G("hidden",!l.selection.hasValue()),e.R7$(9),e.Y8G("dataSource",l.dataSource),e.R7$(34),e.Y8G("matHeaderRowDef",l.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",l.displayedColumns),e.R7$(),e.vxM(77,null!=l.exampleDatabase&&l.exampleDatabase.isTblLoading?-1:77),e.R7$(),e.Y8G("length",l.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.lJ4(13,Be)))},dependencies:[$.D,Y.uc,Y.oV,f.Hl,f.iY,f.$0,E.m_,E.An,o.tP,o.Zl,o.tL,o.ji,o.cC,o.YV,o.iL,o.KS,o.$R,o.YZ,o.NB,p.NQ,p.B4,p.aE,C.YU,U.g7,U.So,h.Cn,h.kk,h.fb,h.Cp,g.pZ,g.r6,x.D6,v.Ou,v.iy,C.vh]})}return t})();class pt extends F.qS{get filter(){return this.filterChange.value}set filter(n){this.filterChange.next(n)}constructor(n,a,i,l){super(),this.exampleDatabase=n,this.paginator=a,this._sort=i,this.leaveS=l,this.filterChange=new b.t(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){return(0,S.h)(this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page).pipe((0,be.n)(()=>this.leaveS.getAllUserswithconge()),(0,w.T)(a=>{console.log(a);const i=[];a.forEach(c=>{const T=c.name;console.log(T),c.leaves.forEach(u=>{u.userName=T,i.push(u)})}),this.filteredData=i.slice().filter(c=>(c.startDate+c.startTime+c.endDate+c.endTime+c.leaveType+c.status+c.reason).toLowerCase().includes(this.filter.toLowerCase()));const l=this.sortData(this.filteredData.slice()),s=this.paginator.pageIndex*this.paginator.pageSize;return this.renderedData=l.slice(s,s+this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(n){return this._sort.active&&""!==this._sort.direction?n.sort((a,i)=>{let l="",s="";switch(this._sort.active){case"id":[l,s]=[a._id,i._id];break;case"startDate":[l,s]=[a.startDate,i.startDate];break;case"leaveType":[l,s]=[a.leaveType,i.leaveType];break;case"leaveTo":[l,s]=[a.endDate,i.endDate];break;case"status":[l,s]=[a.status,i.status];break;case"reason":[l,s]=[a.reason,i.reason]}return((isNaN(+l)?l:+l)<(isNaN(+s)?s:+s)?-1:1)*("asc"===this._sort.direction?1:-1)}):n}}let A=(()=>{class t extends k.U{constructor(a){super(),this.httpClient=a,this.API_URL="assets/data/leave-types.json",this.isTblLoading=!0,this.dataChange=new b.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllLeavess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:a=>{this.isTblLoading=!1,this.dataChange.next(a)},error:a=>{this.isTblLoading=!1,console.log(a.name+" "+a.message)}})}static#e=this.\u0275fac=function(i){return new(i||t)(e.KVO(D.Qq))};static#t=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ut=["filter"],ht=()=>["Leaves"],ft=()=>[5,10,25,100];function _t(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Id "),e.k0s())}function vt(t,n){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=n.$implicit;e.R7$(),e.JRh(a.id)}}function gt(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Leave Name "),e.k0s())}function Ft(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",42),e.EFF(2,"Leave Name:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI(" ",a.leave_name," ")}}function Ct(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Leave Type "),e.k0s())}function bt(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",42),e.EFF(2,"Leave Type:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI("",a.type," ")}}function kt(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Leave Unit "),e.k0s())}function Dt(t,n){if(1&t&&(e.j41(0,"mat-cell")(1,"span",42),e.EFF(2,"Leave Unit:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.SpI(" ",a.leave_unit," ")}}function Et(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1," Status "),e.k0s())}function xt(t,n){if(1&t&&(e.j41(0,"div")(1,"span",44),e.EFF(2),e.k0s()()),2&t){const a=e.XpG().$implicit;e.R7$(2),e.SpI(" ",a.status,"")}}function Rt(t,n){if(1&t&&(e.j41(0,"div")(1,"span",45),e.EFF(2),e.k0s()()),2&t){const a=e.XpG().$implicit;e.R7$(2),e.SpI(" ",a.status,"")}}function Tt(t,n){if(1&t&&(e.j41(0,"mat-cell",43)(1,"span",42),e.EFF(2,"Status:"),e.k0s(),e.DNE(3,xt,3,1,"div")(4,Rt,3,1,"div"),e.k0s()),2&t){const a=n.$implicit;e.R7$(3),e.vxM(3,"Active"===a.status?3:-1),e.R7$(),e.vxM(4,"Deactive"===a.status?4:-1)}}function jt(t,n){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Note "),e.k0s())}function yt(t,n){if(1&t&&(e.j41(0,"mat-cell",46)(1,"span",47)(2,"span",42),e.EFF(3,"Note:"),e.k0s(),e.EFF(4),e.k0s()()),2&t){const a=n.$implicit;e.R7$(4),e.JRh(a.note)}}function Lt(t,n){1&t&&(e.j41(0,"mat-header-cell",48),e.EFF(1," Actions "),e.k0s())}function St(t,n){if(1&t){const a=e.RV6();e.j41(0,"mat-cell",48)(1,"button",49),e.bIt("click",function(l){return e.eBV(a),e.Njj(l.stopPropagation())}),e.j41(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.j41(4,"mat-menu",null,2)(6,"button",50)(7,"i",51),e.EFF(8,"create"),e.k0s(),e.j41(9,"span"),e.EFF(10,"Edit Contact"),e.k0s()(),e.j41(11,"button",50)(12,"i",51),e.EFF(13,"delete_forever"),e.k0s(),e.j41(14,"span"),e.EFF(15,"Delete Contact"),e.k0s()()()()}if(2&t){const a=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",a)}}function wt(t,n){1&t&&e.nrm(0,"mat-header-row")}function $t(t,n){1&t&&e.nrm(0,"mat-row",52),2&t&&e.xc7("cursor","pointer")}function Nt(t,n){1&t&&(e.j41(0,"div",38),e.nrm(1,"mat-progress-spinner",53),e.k0s()),2&t&&(e.R7$(),e.Y8G("diameter",40))}function It(t,n){if(1&t&&(e.j41(0,"div",54),e.EFF(1," No results "),e.k0s()),2&t){const a=e.XpG();e.xc7("display",0===a.dataSource.renderedData.length?"":"none")}}let Bt=(()=>{class t extends k.U{constructor(a,i,l,s){super(),this.httpClient=a,this.dialog=i,this.leavesService=l,this.snackBar=s,this.filterToggle=!1,this.displayedColumns=["leave_name","type","leave_unit","status","note","actions"],this.selection=new F.CB(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}toggleStar(a){console.log(a)}loadData(){this.exampleDatabase=new A(this.httpClient),this.dataSource=new Gt(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,L.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(D.Qq),e.rXU(d.bZ),e.rXU(A),e.rXU(N.UG))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-leave-types"]],viewQuery:function(i,l){if(1&i&&(e.GBs(v.iy,7),e.GBs(p.B4,7),e.GBs(ut,7),e.GBs(h.Cp,5)),2&i){let s;e.mGM(s=e.lsd())&&(l.paginator=s.first),e.mGM(s=e.lsd())&&(l.sort=s.first),e.mGM(s=e.lsd())&&(l.filter=s.first),e.mGM(s=e.lsd())&&(l.contextMenu=s.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:52,vars:14,consts:[["filter",""],["paginator",""],["menu","matMenu"],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-md-12"],[1,"tabbable-line"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","leave_name"],["matColumnDef","type"],["matColumnDef","leave_unit"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","note"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","actions"],["class","psl-3 tbl-col-width-per-10",4,"matHeaderCellDef"],["class","psl-3 tbl-col-width-per-10",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-sort-header",""],[1,"mobile-label"],["mat-cell",""],[1,"badge","badge-pill","badge-primary","col-green"],[1,"badge","badge-pill","badge-primary","col-red"],[1,"column-nowrap"],[1,"truncate-text"],[1,"psl-3","tbl-col-width-per-10"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item",""],[1,"material-icons-outlined","align-middle","msr-2"],["matRipple",""],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(i,l){1&i&&(e.j41(0,"section",3)(1,"div",4)(2,"div",5),e.nrm(3,"app-breadcrumb",6),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",7)(8,"div",10)(9,"div",11)(10,"div",12)(11,"div",13)(12,"ul",14)(13,"li",15)(14,"h2"),e.EFF(15,"Leave Types"),e.k0s()(),e.j41(16,"li",16)(17,"label",17)(18,"i",18),e.EFF(19,"search"),e.k0s()(),e.nrm(20,"input",19,0),e.k0s()()()(),e.j41(22,"div",20)(23,"div",21)(24,"table",22),e.qex(25,23),e.DNE(26,_t,2,0,"mat-header-cell",24)(27,vt,2,1,"mat-cell",25),e.bVm(),e.qex(28,26),e.DNE(29,gt,2,0,"mat-header-cell",24)(30,Ft,4,1,"mat-cell",25),e.bVm(),e.qex(31,27),e.DNE(32,Ct,2,0,"mat-header-cell",24)(33,bt,4,1,"mat-cell",25),e.bVm(),e.qex(34,28),e.DNE(35,kt,2,0,"mat-header-cell",24)(36,Dt,4,1,"mat-cell",25),e.bVm(),e.qex(37,29),e.DNE(38,Et,2,0,"mat-header-cell",24)(39,Tt,5,2,"mat-cell",30),e.bVm(),e.qex(40,31),e.DNE(41,jt,2,0,"mat-header-cell",24)(42,yt,5,1,"mat-cell",32),e.bVm(),e.qex(43,33),e.DNE(44,Lt,2,0,"mat-header-cell",34)(45,St,16,1,"mat-cell",35),e.bVm(),e.DNE(46,wt,1,0,"mat-header-row",36)(47,$t,1,2,"mat-row",37),e.k0s(),e.DNE(48,Nt,2,1,"div",38)(49,It,2,2,"div",39),e.nrm(50,"mat-paginator",40,1),e.k0s()()()()()()()()()()),2&i&&(e.R7$(3),e.Y8G("title","Leave Types")("items",e.lJ4(12,ht))("active_item","Leave Types"),e.R7$(21),e.Y8G("dataSource",l.dataSource),e.R7$(22),e.Y8G("matHeaderRowDef",l.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",l.displayedColumns),e.R7$(),e.vxM(48,null!=l.exampleDatabase&&l.exampleDatabase.isTblLoading?48:-1),e.R7$(),e.vxM(49,null!=l.exampleDatabase&&l.exampleDatabase.isTblLoading?-1:49),e.R7$(),e.Y8G("length",l.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.lJ4(13,ft)))},dependencies:[$.D,o.tP,o.Zl,o.tL,o.ji,o.cC,o.YV,o.iL,o.KS,o.$R,o.YZ,o.NB,p.NQ,p.B4,p.aE,f.Hl,f.iY,h.Cn,h.kk,h.fb,h.Cp,E.m_,E.An,g.pZ,g.r6,x.D6,x.LG,v.Ou,v.iy]})}return t})();class Gt extends F.qS{get filter(){return this.filterChange.value}set filter(n){this.filterChange.next(n)}constructor(n,a,i){super(),this.exampleDatabase=n,this.paginator=a,this._sort=i,this.filterChange=new b.t(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const n=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllLeavess(),(0,S.h)(...n).pipe((0,w.T)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(l=>-1!==(l.leave_name+l.leave_unit+l.type+l.status).toLowerCase().indexOf(this.filter.toLowerCase()));const a=this.sortData(this.filteredData.slice());return this.renderedData=a.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(n){return this._sort.active&&""!==this._sort.direction?n.sort((a,i)=>{let l="",s="";switch(this._sort.active){case"id":[l,s]=[a.id,i.id];break;case"leave_name":[l,s]=[a.leave_name,i.leave_name];break;case"type":[l,s]=[a.type,i.type];break;case"leaveTo":[l,s]=[a.leave_unit,i.leave_unit];break;case"status":[l,s]=[a.status,i.status]}return((isNaN(+l)?l:+l)<(isNaN(+s)?s:+s)?-1:1)*("asc"===this._sort.direction?1:-1)}):n}}const qt=[{path:"leave-requests",component:dt},{path:"leave-balance",component:Fe},{path:"leave-types",component:Bt},{path:"**",component:r(2053).X}]}}]);